{"version":3,"sources":["webpack:///./src/pages/detail/store/reducer.js","webpack:///./src/pages/detail/store/actionCreators.js","webpack:///./src/pages/detail/store/constants.js","webpack:///./src/pages/detail/store/index.js","webpack:///./src/pages/detail/index.js"],"names":["_immutable","__webpack_require__","constants","defaultState","fromJS","authorNickname","title","content","createTime","updateTime","reducer","state","arguments","length","undefined","action","type","GET_DETAIL_DATA","merge","data","_config","getDetailDataFunctionAC","id","dispatch","axios","get","requestURL","then","res","_res$data","code","article","author","articleName","articleContent","nickname","getDetailDataAC","catch","err","console","log","_reducer","actionCreators","_reactRedux","_reactRouterDom","_store","Detail","this","props","getDetailData","match","params","_props","_react2","default","createElement","Fragment","_header2","className","alt","src","dangerouslySetInnerHTML","__html","React","Component","connect","getIn","withRouter"],"mappings":"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","file":"detail_2e29d4f2.js","sourcesContent":["import { fromJS } from \"immutable\";\r\nimport * as constants from \"./constants\";\r\n\r\nconst defaultState = fromJS({\r\n  authorNickname: '',\r\n  title: '',\r\n  content: '',\r\n  createTime: '',\r\n  updateTime: '',\r\n});\r\n\r\nconst reducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case constants.GET_DETAIL_DATA:\r\n      return state.merge({\r\n        authorNickname: fromJS(action.data.authorNickname),\r\n        title: fromJS(action.data.title),\r\n        content: fromJS(action.data.content),\r\n        createTime: fromJS(action.data.createTime),\r\n        updateTime: fromJS(action.data.updateTime),\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport { reducer };","\r\nimport axios from \"axios\";\r\nimport * as constants from \"./constants\";\r\nimport { requestURL } from \"../../../common/config\";\r\nconst getDetailDataAC = (data) => {\r\n  return {\r\n    type: constants.GET_DETAIL_DATA,\r\n    data,\r\n  };\r\n};\r\nconst getDetailDataFunctionAC = (id) => {\r\n  return function (dispatch) {\r\n    axios.get(`${requestURL}getDetail?articleId=${id}`)\r\n      .then(res => {\r\n        const { code, article, author } = res.data;\r\n        switch (code) {\r\n          case 0:\r\n            break;\r\n          case 1:\r\n            {\r\n              const { articleName: title, articleContent: content, createTime, updateTime } = article;\r\n              const { nickname: authorNickname } = author;\r\n              dispatch(getDetailDataAC(\r\n                {\r\n                  authorNickname,\r\n                  title,\r\n                  content,\r\n                  createTime,\r\n                  updateTime,\r\n                }\r\n              ));\r\n            }\r\n            break;\r\n\r\n          default:\r\n            break;\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n};\r\n\r\n\r\nexport { getDetailDataFunctionAC };","const GET_DETAIL_DATA = 'get_detail_data';\r\n\r\nexport { GET_DETAIL_DATA };","import { reducer } from \"./reducer\";\r\nimport * as actionCreators from \"./actionCreators\";\r\nimport * as constants from \"./constants\";\r\n\r\nexport { reducer, actionCreators, constants };","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { actionCreators } from \"./store\";\r\nimport Header from \"../../common/header\";\r\nimport \"./index.scss\";\r\n\r\nclass Detail extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getDetailData(this.props.match.params.id);\r\n  }\r\n  render() {\r\n    const { title, content, authorNickname, createTime, updateTime } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <Header />\r\n        <section className='article_container'>\r\n          <article className='article_content'>\r\n            <h1 className='article_title'>{title}</h1>\r\n            <aside className='article_info'>\r\n              <div className='info_author'>\r\n                <img className='author_avator' alt='' src='' />\r\n              </div>\r\n              <div className='info_detail'>\r\n                <div className='author_detail'>\r\n                  <span className='detail_item author_name'>{authorNickname}</span>\r\n                  <img className='detail_item author_badge' alt='' src='' />\r\n                  <a className='detail_item author_follow'>+关注</a>\r\n                </div>\r\n                <div className='article_detail'>\r\n                  <span className='detail_item article_time'>创作于{createTime}，</span>\r\n                  <span className='detail_item article_updateTime'>更新于{updateTime}。</span>\r\n                  {/* <span className='detail_item article_wordcount'>字数</span>\r\n                <span className='detail_item article_readcount'>阅读</span>\r\n                <span className='detail_item article_comment'>评论</span>\r\n              <span className='detail_item article_like'>喜欢</span> */}\r\n                </div>\r\n              </div>\r\n            </aside>\r\n            <section className='article_text' dangerouslySetInnerHTML={{ __html: content }}></section>\r\n          </article>\r\n        </section>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = (state) => {\r\n  return {\r\n    title: state.getIn(['detail', 'title']),\r\n    content: state.getIn(['detail', 'content']),\r\n    authorNickname: state.getIn(['detail', 'authorNickname']),\r\n    createTime: state.getIn(['detail', 'createTime']),\r\n    updateTime: state.getIn(['detail', 'updateTime']),\r\n  };\r\n};\r\nconst mapDispatch = (dispatch) => {\r\n  return {\r\n    getDetailData(id) {\r\n      dispatch(actionCreators.getDetailDataFunctionAC(id));\r\n    },\r\n  };\r\n};\r\nexport default connect(mapState, mapDispatch)(withRouter(Detail));"],"sourceRoot":""}