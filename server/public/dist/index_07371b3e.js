(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DumbList=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),r=n(32);n(751);t.DumbList=function(e){return a.default.createElement("section",{className:"articlelist_container"},a.default.createElement("ul",{className:"articlelist_list"},e.articlelist.map(function(e,t){return a.default.createElement("li",{className:"articlelist_Item",key:t},a.default.createElement("div",{className:"articlelist_summary"},a.default.createElement(r.Link,{to:"/detail/"+e.get("articleId"),className:"summary_title",target:"_blank"},e.get("articleName")),a.default.createElement("p",{className:"summary_content"},e.get("description")),a.default.createElement("div",{className:"summary_extraInfo"},a.default.createElement("a",{className:"extraInfo_author",target:"_blank"},e.get("nickname")),a.default.createElement("span",{className:"extraInfo_comments",target:"_blank"},a.default.createElement("span",{className:"iconfont icon-duihuakuang1"},"创作于",e.get("createTime"))),e.get("updateTime")?a.default.createElement("span",{className:"extraInfo_likes"},a.default.createElement("span",{className:"iconfont icon-xin"},"更新于",e.get("updateTime"))):null)))})),e.hasMore?a.default.createElement("a",{className:"articlelist_loadmore",onClick:function(){e.loadmore(e.requestPage)}},"阅读更多"):a.default.createElement("a",{className:"articlelist_loadmore"},"没有更多啦！"))}},117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.actionCreators=t.reducer=void 0;var a=n(238),r=u(n(239)),o=u(n(95));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.reducer=a.reducer,t.actionCreators=r,t.constants=o},118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.actionCreators=t.reducer=void 0;var a=n(242),r=u(n(243)),o=u(n(96));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.reducer=a.reducer,t.actionCreators=r,t.constants=o},123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var a=n(24),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(55));var o=(0,a.fromJS)({focused:!1,mouseIn:!1,list:[],page:1,totalPage:1,searchValue:""});t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.SEARCH_FOCUS:return e.set("focused",!0);case r.SEARCH_BLUR:return e.set("focused",!1);case r.CHANGE_LIST:return e.merge({list:t.data,totalPage:t.totalPage});case r.MOUSE_ENTER:return e.set("mouseIn",!0);case r.MOUSE_LEAVE:return e.set("mouseIn",!1);case r.SWITCH_PAGE:return e.set("page",t.nextPage);case r.CHANGE_SEARCHVALUE:return e.set("searchValue",t.value);default:return e}}},124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeSearchValue=t.logout=t.switchPage=t.mouseLeave=t.mouseEnter=t.getList=t.search_focus_blur_action=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(33)),r=n(24),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(55)),u=n(44),c=n(23),i=n(38);t.search_focus_blur_action=function(e){return{type:e}},t.getList=function(){return function(e){a.default.get(c.requestURL+"api/getList").then(function(t){var n=t.data,a=n.success,u=n.data;a&&e(function(e){return{type:o.CHANGE_LIST,data:(0,r.fromJS)(e),totalPage:Math.ceil(e.length/10)}}(u))}).catch(function(e){console.log(e)})}},t.mouseEnter=function(){return{type:o.MOUSE_ENTER}},t.mouseLeave=function(){return{type:o.MOUSE_LEAVE}},t.switchPage=function(e){return{type:o.SWITCH_PAGE,nextPage:e}},t.logout=function(){return function(e){a.default.get(c.requestURL+"user/logout"+(i.ISIE?"?token="+Date.now():"")).then(function(t){t.data.code&&e(u.actionCreators.changeLoginStatus(!1))}).catch(function(e){console.log(e)})}},t.changeSearchValue=function(e){return{type:o.CHANGE_SEARCHVALUE,value:e}}},125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var a=c(n(74)),r=c(n(115)),o=n(24),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(56));function c(e){return e&&e.__esModule?e:{default:e}}var i=(0,o.fromJS)({loginStatus:!1,msg:"",id:0,nickname:"",userInfo:{username:"",password:"",remember:!0}});t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case u.CHANGE_USER_INFO:var n=!0,o=!1,c=void 0;try{for(var l,s=(0,a.default)(t.userData);!(n=(l=s.next()).done);n=!0){var d=l.value,f=(0,r.default)(d,2),_=f[0],m=f[1];return e.setIn(["userInfo",_],m)}}catch(e){o=!0,c=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw c}}break;case u.CHANGE_LOGIN_STATUS:return e.set("loginStatus",t.status);case u.CHANGE_MSG:return e.set("msg",t.msg);case u.CHANGE_LOGGED_USER_INFO:return e.merge({id:t.id,nickname:t.nickname});default:return e}}},126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeLoggedUserInfo=t.changeMsg=t.changeLoginStatus=t.loginFunctionalAC=t.changeUserInfo=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(56)),r=n(24),o=function(e){return e&&e.__esModule?e:{default:e}}(n(33)),u=n(23);o.default.defaults.withCredentials=!0;var c=function(e){return{type:a.CHANGE_LOGIN_STATUS,status:e}},i=function(e){return{type:a.CHANGE_MSG,msg:e}},l=function(e,t){return{type:a.CHANGE_LOGGED_USER_INFO,id:e,nickname:t}};t.changeUserInfo=function(e){return{type:a.CHANGE_USER_INFO,userData:(0,r.fromJS)(e)}},t.loginFunctionalAC=function(e){return function(t){o.default.post(u.requestURL+"user/login",e).then(function(e){var n=e.data,a=n.success,r=n.code,o=n.id,u=n.nickname;if(a)switch(r){case 0:t(i("登录成功！")),t(c(!0)),t(l(o,u));break;case 1:t(i("用户名不存在"));break;case 2:t(i("密码错误"))}}).catch()}},t.changeLoginStatus=c,t.changeMsg=i,t.changeLoggedUserInfo=l},127:function(e,t,n){e.exports=n.p+"85d0b383f3f98315786cac9d7bcf14bf.jpg"},129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullPageLoading=void 0;var a=o(n(110));n(111);var r=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}n(755);t.FullPageLoading=function(){return r.default.createElement("div",{className:"loading_container"},r.default.createElement(a.default,{size:"large"}))}},188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.actionCreators=t.reducer=void 0;var a=n(660),r=u(n(661)),o=u(n(240));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.reducer=a.reducer,t.actionCreators=r,t.constants=o},189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteArticleAndNotebookAsyncAC=t.publishAsyncAC=t.updateCertainArticleAC=t.getNotesDetailAsyncAC=t.autoSaveFunctionAC=t.saveArticleFunctionAC=t.requestDataFunctionAC=t.saveNotebookFunctionAC=t.changeStatus=void 0;var a=l(n(2)),r=l(n(191));n(190);var o=l(n(33)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(241)),c=n(24),i=n(23);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){return{type:u.CHANGE_STATUS,key:e,value:t}},d=function(e){return{type:u.UPDATE_CERTAIN_ARTICLE,article:e}},f=function(){return function(e){o.default.get(i.requestURL+"write/getNotes").then(function(t){var n=t.data,a=n.success,r=n.notebooks,o=n.articles;a&&e(s("data",(0,c.fromJS)({notebooks:r,articles:o})))}).catch()}},_=function(e,t,n){return function(a){o.default.post(i.requestURL+"write/saveArticle",t).then(function(t){var o=t.data,i=o.success,l=o.code,s=o.articles;o.articleId;if(i)switch(l){case 0:e(),a(function(e){return{type:u.UPDATE_ARTICLES,articles:e}}((0,c.fromJS)(s))),r.default.info("已"+(n?"自动":"")+"创建新文章！",3)}}).catch(function(e){console.log(e)})}};t.changeStatus=s,t.saveNotebookFunctionAC=function(e,t){return function(n){o.default.post(i.requestURL+"write/saveNotebook",{notebookName:t}).then(function(t){var a=t.data,o=a.success,u=a.code,c=a.notebookId;if(o)switch(u){case 0:e(),r.default.success("创建成功！",3),n(f()),n(_(r.default.info("为新文集自动创建文章……"),{notebookId:c,articleName:(new Date).toLocaleString(),articleContent:"",finished:!1},!0));break;case 1:e(),r.default.error("创建失败！原因：文集名重复",3)}}).catch(function(e){console.log(e)})}},t.requestDataFunctionAC=f,t.saveArticleFunctionAC=_,t.autoSaveFunctionAC=function(e){return function(t){t(s("autoSaving",!0)),o.default.post(i.requestURL+"write/autoSave",e).then(function(n){var a=n.data,r=a.success,o=a.code;if(r)switch(o){case 1:t(s("autoSaving",!1)),"finished"===e.updateType&&t(d({articleId:e.articleId,finished:e.finished}));break;case 0:console.log("更新失败，文章不存在")}}).catch(function(e){console.log(e)})}},t.getNotesDetailAsyncAC=function(e,t){return function(t){t(s("loading",!0)),t(s("requestArticleId",e)),o.default.get(i.requestURL+"write/getDetail?articleId="+e).then(function(e){var n=e.data,a=n.success,r=n.article,o=n.article;o.articleName,o.articleContent,a&&(t(d(r)),t(s("loading",!1)))}).catch(function(e){console.log(e)})}},t.updateCertainArticleAC=d,t.publishAsyncAC=function(e){return function(t){t(s("modelOkText","发布中……")),o.default.post(i.requestURL+"write/publish",e).then(function(n){t(d((0,a.default)({},e,{finished:!0,publishSite:n.data.publishSite}))),t(s("pubPanelShow",!1)),t(s("modelOkText","发布"))}).catch(function(e){console.log(e)})}},t.deleteArticleAndNotebookAsyncAC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=r.default.loading("正在删除"+(t?"文集独子":"文章"));return function(a){o.default.get(t?i.requestURL+"write/delArticle?articleId="+e+"&notebookId="+t:i.requestURL+"write/delArticle?articleId="+e).then(function(o){a(s("currentArticleId",0)),a(s("initOpen",!0)),a(function(e,t){return{type:u.DELETE_ARTICLE_AND_NOTEBOOK,articleId:e,notebookId:t}}(e,t)),n(),r.default.info(t?"删除成功，所属文集也删除了！":"删除成功！",2)}).catch()}}},23:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.requestURL="http://www.herosanctuary.com/"},234:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionCreators=t.reducer=void 0;var a=n(594),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(595));t.reducer=a.reducer,t.actionCreators=r},238:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var a=n(24),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(95));var o=(0,a.fromJS)({authorNickname:"",title:"",content:"",createTime:"",updateTime:""});t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.GET_DETAIL_DATA:return e.merge({authorNickname:(0,a.fromJS)(t.data.authorNickname),title:(0,a.fromJS)(t.data.title),content:(0,a.fromJS)(t.data.content),createTime:(0,a.fromJS)(t.data.createTime),updateTime:(0,a.fromJS)(t.data.updateTime)});default:return e}}},239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDetailDataFunctionAC=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(33)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(95)),o=n(23);t.getDetailDataFunctionAC=function(e){return function(t){a.default.get(o.requestURL+"getDetail?articleId="+e).then(function(e){var n=e.data,a=n.code,o=n.article,u=n.author;switch(a){case 0:break;case 1:var c=o.articleName,i=o.articleContent,l=o.createTime,s=o.updateTime,d=u.nickname;t(function(e){return{type:r.GET_DETAIL_DATA,data:e}}({authorNickname:d,title:c,content:i,createTime:l,updateTime:s}))}}).catch(function(e){console.log(e)})}}},240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CHANGE_USER_INPUT="change_user_input"},241:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SAVE_CURRENT_ARTICLE="save_current_article",t.SAVE_CURRENT_TITLE="save_current_title",t.CHANGE_STATUS="change_status",t.UPDATE_ARTICLES="update_articles",t.UPDATE_CERTAIN_ARTICLE="update_certain_article",t.DELETE_ARTICLE_AND_NOTEBOOK="delete_article_and_notebook"},242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var a=n(24),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(96));var o=(0,a.fromJS)({articlelist:[],nextPage:0,showSearchResult:!0,hasMore:!0,keyword:"",searchType:"keyword"});t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.ADD_PAGE:return e.set("nextPage",t.page);case r.UPDATE_ARTICLES_IN_SEARCH:return e.set("articlelist",e.get("articlelist").concat((0,a.fromJS)(t.articles)));case r.CHANGE_KEYWORD:return e.merge({searchType:t.searchType,keyword:t.keyword});case r.CHANGE_SEARCH_RESULT_SHOW:return e.set("showSearchResult",t.showSearchResult);case r.CHANGE_HAS_MORE:return e.set("hasMore",t.hasMore);default:return e}}},243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeKeywordAndTypeAC=t.searchAsyncAC=void 0;var a=i(n(2)),r=i(n(74)),o=i(n(33)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(96)),c=n(23);function i(e){return e&&e.__esModule?e:{default:e}}t.searchAsyncAC=function(e){return function(t){o.default.get(c.requestURL+"search/search"+location.search+"&page="+e).then(function(n){var o=n.data,c=o.code,i=o.articles,l=o.usersWithoutRepeat;switch(c){case 1:var s=i.map(function(e){var t=!0,n=!1,o=void 0;try{for(var u,c=(0,r.default)(l);!(t=(u=c.next()).done);t=!0){var i=u.value,s=i.id,d=i.nickname;if(void 0===e.nickname&&e.authorId===s)return(0,a.default)({},e,{nickname:d})}}catch(e){n=!0,o=e}finally{try{!t&&c.return&&c.return()}finally{if(n)throw o}}});t(function(e){return{type:u.UPDATE_ARTICLES_IN_SEARCH,articles:e}}(s));break;case 0:0===e&&t(function(e){return{type:u.CHANGE_SEARCH_RESULT_SHOW,showSearchResult:e}}(!1)),t(function(e){return{type:u.CHANGE_HAS_MORE,hasMore:e}}(!1))}}).catch(function(e){console.log(e)}),t(function(e,t){return{type:u.ADD_PAGE,page:e+t}}(e,1))}},t.changeKeywordAndTypeAC=function(e,t){return{type:u.CHANGE_KEYWORD,searchType:e,keyword:t}}},313:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GET_WRITTER_LIST="get_writter_list",t.CHANGE_WRITTER_LIST="change_writter_list",t.GET_INITIAL_HOME_DATA="get_initial_home_data",t.GET_MORE_ARTICLE="get_more_article",t.CHANGE_SCROLL_TOP_STATE="change_scroll_top_state",t.INCREASE_REQUEST_PAGE="increase_request_page",t.CHANGE_HAS_MORE_IN_HOME="change_has_more_in_home",t.GET_ARTICLES="get_articles",t.RESET_DATA="reset_data"},38:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=window.navigator.userAgent.indexOf("MSIE 9.0")>0,r=window.navigator.userAgent.indexOf("Trident")>0;t.ISIE=r,t.ISIE9=a},44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.actionCreators=t.reducer=void 0;var a=n(125),r=u(n(126)),o=u(n(56));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.reducer=a.reducer,t.actionCreators=r,t.constants=o},546:function(e,t,n){"use strict";var a=u(n(1)),r=u(n(10)),o=n(554);function u(e){return e&&e.__esModule?e:{default:e}}n(757),n(759),n(38).ISIE9&&n.e(6).then(n.t.bind(null,252,7)),r.default.render(a.default.createElement(o.App,null),document.body.appendChild(document.createElement("main")))},55:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SEARCH_FOCUS="search_focus",t.SEARCH_BLUR="search_blur",t.CHANGE_LIST="change_list",t.MOUSE_ENTER="mouse_enter",t.MOUSE_LEAVE="mouse_leave",t.SWITCH_PAGE="switch_page",t.CHANGE_SEARCHVALUE="change_searchvalue"},554:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var a=g(n(20)),r=g(n(6)),o=g(n(8)),u=g(n(5)),c=g(n(7)),i=g(n(1)),l=n(22),s=n(32),d=g(n(593)),f=g(n(644)),_=g(n(648)),m=g(n(649)),h=g(n(650)),p=g(n(651)),v=n(652);function g(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){return(0,r.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return i.default.createElement(l.Provider,{store:v.store},i.default.createElement(s.BrowserRouter,null,i.default.createElement(i.default.Fragment,null,i.default.createElement(s.Route,{path:"/",exact:!0,component:d.default}),i.default.createElement(s.Route,{path:"/login",exact:!0,component:_.default}),i.default.createElement(s.Route,{path:"/sign_up",exact:!0,component:m.default}),i.default.createElement(s.Route,{path:"/detail/:id",exact:!0,component:f.default}),i.default.createElement(s.Route,{path:"/write",exact:!0,component:h.default}),i.default.createElement(s.Route,{path:"/search",exact:!0,component:p.default}))))}}]),t}(i.default.Component);t.App=E},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CHANGE_USER_INFO="change_user_info",t.CHANGE_LOGIN_STATUS="change_login_status",t.CHANGE_MSG="change_msg",t.CHANGE_LOGGED_USER_INFO="change_logged_user_info"},593:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=h(n(20)),r=h(n(6)),o=h(n(8)),u=h(n(5)),c=h(n(7)),i=h(n(1)),l=n(22),s=n(234),d=h(n(67)),f=n(633),_=h(n(642)),m=h(n(643));function h(e){return e&&e.__esModule?e:{default:e}}n(753);var p=function(e){function t(){var e,n,o,c;(0,r.default)(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return n=o=(0,u.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(l))),o.bindEvents=function(){window.addEventListener("scroll",o.props.changeScrollShowState)},c=n,(0,u.default)(o,c)}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){this.props.getInitialData(this.props.requestPage)}},{key:"componentDidMount",value:function(){this.bindEvents()}},{key:"componentWillUnmount",value:function(){this.props.resetData(),window.removeEventListener("scroll",this.props.changeScrollShowState)}},{key:"render",value:function(){return i.default.createElement(i.default.Fragment,null,i.default.createElement(d.default,null),i.default.createElement("div",{className:"content_container"},i.default.createElement("section",{className:"content_left"},i.default.createElement(f.FocusImg,{speed:2e3,imgWidth:625,loop:!0,totalImgCount:3,imgSource:this.props.focusImgData.toJS()}),i.default.createElement(_.default,null),i.default.createElement(m.default,null)),this.props.backTopShow?i.default.createElement("div",{className:"backTop"},i.default.createElement("a",{className:"backTop_btn",onClick:this.props.scrollToTop},i.default.createElement("div",{className:"backTop_btn_content"}))):null))}}]),t}(i.default.Component);t.default=(0,l.connect)(function(e){return{backTopShow:e.getIn(["home","backTopShow"]),requestPage:e.getIn(["home","nextPage"]),focusImgData:e.getIn(["home","focusImg"])}},function(e){return{getInitialData:function(t){e(s.actionCreators.getHomeData(t))},scrollToTop:function(){window.scrollTo(0,0)},changeScrollShowState:function(){document.documentElement.scrollTop>300?e(s.actionCreators.changeScrollShowStateAC(!0)):e(s.actionCreators.changeScrollShowStateAC(!1))},resetData:function(){e(s.actionCreators.resetDataAC())}}})(p)},594:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var a=n(24),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(313));var o=(0,a.fromJS)({topicList:[],articlelist:[],focusImg:[],recommendList:[],writterList:[],nextPage:0,backTopShow:!1,hasMore:!0});t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.CHANGE_WRITTER_LIST:return e.set("writterList",t.data);case r.GET_INITIAL_HOME_DATA:return e.merge({topicList:e.get("topicList").concat((0,a.fromJS)(t.topic)),articlelist:e.get("articlelist").concat((0,a.fromJS)(t.articles)),focusImg:e.get("focusImg").concat((0,a.fromJS)(t.focusImg))});case r.GET_MORE_ARTICLE:return e.merge({articlelist:e.get("articlelist").concat(t.data),nextPage:t.nextPage});case r.CHANGE_SCROLL_TOP_STATE:return e.set("backTopShow",t.state);case r.INCREASE_REQUEST_PAGE:return e.set("nextPage",t.page);case r.CHANGE_HAS_MORE_IN_HOME:return e.set("hasMore",t.hasMore);case r.RESET_DATA:return e.merge({nextPage:0,topicList:(0,a.fromJS)([]),articlelist:(0,a.fromJS)([]),focusImg:(0,a.fromJS)([])});case r.GET_ARTICLES:return e.set("articlelist",e.get("articlelist").concat(t.articles));default:return e}}},595:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetDataAC=t.changeScrollShowStateAC=t.getMoreList=t.getHomeData=t.getWritterList=void 0;var a=i(n(2)),r=i(n(33)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(313)),u=n(24),c=n(23);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t,n){for(var a=arguments.length,o=Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];r.default.get(e).then(function(e){var a=e.data,r=a.success,u=a.data;if(r){var c=n.apply(void 0,[u].concat(o));t(c)}}).catch(function(e){console.log(e)})},s=function(e){return{type:o.CHANGE_WRITTER_LIST,data:(0,u.fromJS)(e)}},d=function(e,t){return{type:o.GET_MORE_ARTICLE,data:(0,u.fromJS)(e),nextPage:t+1}};t.getWritterList=function(){return function(e){l("http://localhost:5499/api/writterList",e,s)}},t.getHomeData=function(e){return function(t){r.default.get(c.requestURL+"api/homeArticles?page="+e).then(function(e){var n=e.data,r=n.code,c=n.articles,i=n.users,l=n.topic,s=n.focusImg;switch(r){case 1:var d=c.map(function(e){var t=i.find(function(t){return t.id===e.authorId}).nickname;return(0,a.default)({},e,{nickname:t})});t(void 0!==l?function(e,t,n){return{type:o.GET_INITIAL_HOME_DATA,articles:e,topic:t,focusImg:n}}(d,l,s):function(e){return{type:o.GET_ARTICLES,articles:(0,u.fromJS)(e)}}(d));break;case 0:t(function(e){return{type:o.CHANGE_HAS_MORE_IN_HOME,hasMore:e}}(!1))}}).catch(function(e){console.log(e)}),t(function(e,t){return{type:o.INCREASE_REQUEST_PAGE,page:e+t}}(e,1))}},t.getMoreList=function(e){return function(t){l("http://localhost:5499/api/morehomelist?page="+e,t,d,e)}},t.changeScrollShowStateAC=function(e){return{type:o.CHANGE_SCROLL_TOP_STATE,state:e}},t.resetDataAC=function(){return{type:o.RESET_DATA}}},633:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FocusImg=void 0;var a=_(n(15)),r=_(n(58)),o=_(n(20)),u=_(n(6)),c=_(n(8)),i=_(n(5)),l=_(n(7)),s=_(n(1)),d=n(641),f=n(38);function _(e){return e&&e.__esModule?e:{default:e}}n(747),"classList"in document.documentElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var e=this;function t(t){return function(n){var a=e.className.split(/\s+/g),r=a.indexOf(n);t(a,r,n),e.className=a.join(" ")}}return{add:t(function(e,t,n){~t||e.push(n)}),remove:t(function(e,t){~t&&e.splice(t,1)}),toggle:t(function(e,t,n){~t?e.splice(t,1):e.push(n)}),contains:function(t){return!!~e.className.split(/\s+/g).indexOf(t)},item:function(t){return e.className.split(/\s+/g)[t]||null}}}});var m=function(e){function t(){var e,n,c,l;(0,u.default)(this,t);for(var s=arguments.length,d=Array(s),_=0;_<s;_++)d[_]=arguments[_];return n=c=(0,i.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),c.state={timer:null,imgContainer:null,imgItems:null,currentIndex:0,indicatorContainer:null,indicatorItems:null,ie9Move:null},c.runTimer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=setInterval(function(){e=e===c.props.totalImgCount-1?0:e+1,c.imgContainerMove(e),c.setIndicatorAcitve(e),c.setState({currentIndex:e})},c.props.speed);c.setState({timer:t})},c.imgContainerMove=function(e){f.ISIE9?c.state.ie9Move.move("linear",{left:-c.props.imgWidth*e},300):c.state.imgContainer.style.transform="translateX("+-c.props.imgWidth*e+"px)"},c.HandleIndicatorClick=function(e){if("LI"!==e.target.tagName)return!1;clearInterval(c.state.timer);var t=c.getItemIndexInParent(c.state.indicatorContainer,"li",e);c.imgContainerMove(t),c.setIndicatorAcitve(t),c.setState({currentIndex:t}),c.runTimer(t)},c.handleMouseEnter=function(e){setTimeout(function(){clearInterval(c.state.timer)},0)},c.handleMouseLeave=function(){clearInterval(c.state.timer),c.runTimer(c.state.currentIndex)},c.handleArrowClick=function(e){var t=0;t=/left/.test(e.target.className)?c.props.loop?c.state.currentIndex-1<0?c.props.totalImgCount-1:c.state.currentIndex-1:c.state.currentIndex-1<0?0:c.state.currentIndex-1:c.props.loop?c.state.currentIndex+1>=c.props.totalImgCount?0:c.state.currentIndex+1:c.state.currentIndex+1>=c.props.totalImgCount?c.props.totalImgCount-1:c.state.currentIndex+1,c.imgContainerMove(t),c.setIndicatorAcitve(t),c.setState({currentIndex:t})},c.setIndicatorAcitve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.state.indicatorItems,n=t.find(function(e){return e.classList.contains("active")});n&&n.classList.remove("active"),t[e].classList.add("active")},c.getItemIndexInParent=function(e,t,n){for(var o=[].concat((0,r.default)(e.querySelectorAll(t))),u=function(e){if(e.tagName.toLowerCase()===t)return{v:o.findIndex(function(t){return t===e})}},c=n.target;c!==n.currentTarget;c=c.parentElement){var i=u(c);if("object"===(void 0===i?"undefined":(0,a.default)(i)))return i.v}},l=n,(0,i.default)(c,l)}return(0,l.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({imgItems:[].concat((0,r.default)(this.state.imgContainer.querySelectorAll("li"))),indicatorItems:[].concat((0,r.default)(this.state.indicatorContainer.querySelectorAll("li")))},function(){e.setIndicatorAcitve(e.state.currentIndex)}),this.runTimer()}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.timer)}},{key:"componentDidUpdate",value:function(){var e=this;this.setState({indicatorContainer:document.querySelector(".foucsImg_indicator"),indicatorItems:[].concat((0,r.default)(document.querySelectorAll(".indicator_item"))),ie9Move:f.ISIE9?new d.Move(this.state.imgContainer):null},function(){e.setIndicatorAcitve(e.state.currentIndex)})}},{key:"shouldComponentUpdate",value:function(e,t){return e.imgSource!==this.props.imgSource||t.indicatorContainer!==this.state.indicatorContainer}},{key:"render",value:function(){var e=this,t=this.props,n=t.imgWidth,a=t.totalImgCount;return s.default.createElement("section",{className:"banner_foucsImg"},s.default.createElement("ul",{className:"foucsImg_container",style:{width:f.ISIE9?n*a:n},ref:function(t){e.state.imgContainer=t},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.props.imgSource.map(function(e){return s.default.createElement("li",{className:"foucsImg_item",key:e.id},s.default.createElement("a",{href:""+e.link,target:"_blank",className:"foucsImg_link"},s.default.createElement("img",{src:e.img,className:"banner_img"})))})),s.default.createElement("ul",{className:"foucsImg_indicator",onClick:this.HandleIndicatorClick,ref:function(t){e.state.indicatorContainer=t}},function(){for(var e=[],t=0;t<a;t++)e.push(s.default.createElement("li",{className:"indicator_item",key:Math.random(),style:{width:f.ISIE9?(200-6*a)/a:"auto"}}));return e}()),s.default.createElement("div",{className:"arrow_left switchControl",onClick:this.handleArrowClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},"<"),s.default.createElement("div",{className:"arrow_right switchControl",onClick:this.handleArrowClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},">"))}}]),t}(s.default.Component);t.FocusImg=m},641:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Move=void 0;var a=o(n(6)),r=o(n(8));function o(e){return e&&e.__esModule?e:{default:e}}window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return window.setTimeout(e,17)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)});var u=function(){function e(t){(0,a.default)(this,e),this.el=t,this.timer=void 0}return(0,r.default)(e,[{key:"getStyle",value:function(e,t){return window.getComputedStyle?getComputedStyle(e)[t]:e.currentStyle[t]}},{key:"changeStyle",value:function(e,t,n){"opacity"==t?(e.style.opacity=n/100,e.style.filter="alpha(opacity="+n+")"):e.style[t]=n+"px"}},{key:"_linearMove",value:function(){var e=this.times,t=+new Date-this.startTime;for(var n in this.json)if(this.json.hasOwnProperty(n)){var a=this.iCur[n],r=t*((this.json[n]-this.iCur[n])/e)+a;this.changeStyle(this.el,n,r)}if(t<=e)this.timer=requestAnimationFrame(this._linearMove.bind(this));else for(var o in cancelAnimationFrame(this.timer),this.json)this.json.hasOwnProperty(o)&&this.changeStyle(this.el,o,this.json[o])}},{key:"cancelMove",value:function(){cancelAnimationFrame(this.timer)}},{key:"move",value:function(e,t,n){for(var a in this.json=t,this.startTime=+new Date,this.iCur={},this.times=n,t)t.hasOwnProperty(a)&&(this.iCur[a]="opacity"===a?Math.round(100*this.getStyle(this.el,a)):parseInt(this.getStyle(this.el,a)));switch(e){case"linear":this.timer=requestAnimationFrame(this._linearMove.bind(this))}}}]),e}();t.Move=u},642:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(20)),r=f(n(6)),o=f(n(8)),u=f(n(5)),c=f(n(7)),i=f(n(1)),l=n(32),s=n(22),d=n(38);function f(e){return e&&e.__esModule?e:{default:e}}n(749);var _=function(e){function t(){return(0,r.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.topicList;return i.default.createElement("section",{className:"topic_container"},i.default.createElement("ul",{className:"topic_list"},e.map(function(e){return i.default.createElement("li",{className:"topic_item",key:e.get("id")},i.default.createElement(l.Link,{className:"topic_link",to:"/search?category="+(d.ISIE?encodeURIComponent(e.get("title")):e.get("title")),target:"_blank"},i.default.createElement("img",{src:e.get("img"),className:"topic_img"}),i.default.createElement("span",{className:"topic_text"},e.get("title"))))})))}}]),t}(i.default.Component);t.default=(0,s.connect)(function(e){return{topicList:e.getIn(["home","topicList"])}},null)(_)},643:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),r=n(22),o=n(234),u=n(116);t.default=(0,r.connect)(function(e){return{articlelist:e.getIn(["home","articlelist"]),requestPage:e.getIn(["home","nextPage"]),hasMore:e.getIn(["home","hasMore"])}},function(e){return{loadmore:function(t){e(o.actionCreators.getHomeData(t))}}})(function(e){return a.default.createElement(u.DumbList,e)})},644:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(1)),r=u(n(128)),o=n(129);function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.default)({loader:function(){return n.e(7).then(n.t.bind(null,135,7))},loading:function(){return a.default.createElement(o.FullPageLoading,null)}});t.default=function(){return a.default.createElement(c,null)}},648:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(1)),r=u(n(128)),o=n(129);function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.default)({loader:function(){return n.e(8).then(n.t.bind(null,253,7))},loading:function(){return a.default.createElement(o.FullPageLoading,null)}});t.default=function(){return a.default.createElement(c,null)}},649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(1)),r=u(n(128)),o=n(129);function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.default)({loader:function(){return n.e(9).then(n.t.bind(null,254,7))},loading:function(){return a.default.createElement(o.FullPageLoading,null)}});t.default=function(){return a.default.createElement(c,null)}},650:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(1)),r=u(n(128)),o=n(129);function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.default)({loader:function(){return Promise.all([n.e(0),n.e(10)]).then(n.t.bind(null,255,7))},loading:function(){return a.default.createElement(o.FullPageLoading,null)}});t.default=function(){return a.default.createElement(c,null)}},651:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(1)),r=u(n(128)),o=n(129);function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.default)({loader:function(){return n.e(11).then(n.t.bind(null,134,7))},loading:function(){return a.default.createElement(o.FullPageLoading,null)}});t.default=function(){return a.default.createElement(c,null)}},652:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0;var a=n(250),r=u(n(653)),o=u(n(654));function u(e){return e&&e.__esModule?e:{default:e}}var c=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.compose,i=(0,a.createStore)(o.default,c((0,a.applyMiddleware)(r.default)));t.store=i},654:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(655),r=n(73),o=n(234),u=n(117),c=n(44),i=n(188),l=n(79),s=n(118);t.default=(0,a.combineReducers)({header:r.reducer,home:o.reducer,detail:u.reducer,login:c.reducer,signUp:i.reducer,write:l.reducer,search:s.reducer})},660:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var a=n(24),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(240));var o=(0,a.fromJS)({msg:"",nickname:"",username:"",password:"",buttonStatus:"注册"});t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.CHANGE_USER_INPUT:return e.set(t.key,t.value);default:return e}}},661:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signUpFunctionalAC=t.changeUserInput=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(33)),r=n(44),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(240)),u=n(23);var c=function(e,t){return{type:o.CHANGE_USER_INPUT,key:e,value:t}};t.changeUserInput=c,t.signUpFunctionalAC=function(e,t,n){var o={nickname:e,username:t,password:n};return function(t){a.default.post(u.requestURL+"user/sign_up",o).then(function(n){var a=n.data,o=a.success,u=a.id,i=a.code;if(o)switch(i){case 1:t(c("msg","用户名重复，sorry！")),t(c("buttonStatus","注册")),setTimeout(function(){t(c("msg",""))},2e3);break;case 0:t(c("msg","注册成功，欢迎你，"+e+"！正在跳转至首页···")),t(r.actionCreators.changeLoginStatus(!0)),t(r.actionCreators.changeLoggedUserInfo(u,e)),t(c("buttonStatus","注册"))}}).catch(function(e){console.log(e)})}}},662:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(314)),r=n(24),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(241));var u=(0,r.fromJS)({data:{notebooks:[{notebookId:0,notebookName:"加载中……"}],articles:[{articleId:1,notebookId:0,articleName:"加载中……"}]},showInput:!1,createInputValue:"",articleBtnDisabled:!0,currentSelectedNotebookId:0,currentArticleTitle:"",currentArticleContent:"",currentArticleId:0,requestArticleId:0,initOpen:!0,editor:null,loading:!1,createType:"note",autoSaving:!1,pubPanelShow:!1,modelOkText:"发布"});t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case o.SAVE_CURRENT_ARTICLE:return e.setIn(["currentArticle","articleId"],t.id).setIn(["currentArticle","content"],t.content);case o.SAVE_CURRENT_TITLE:return e.setIn(["currentArticle","articleId"],t.id).setIn(["currentArticle","title"],t.title);case o.CHANGE_STATUS:return e.set(t.key,t.value);case o.UPDATE_ARTICLES:return e.setIn(["data","articles"],t.articles);case o.UPDATE_CERTAIN_ARTICLE:return function(e,t){var n=e.toJS(),o=n.data.articles.find(function(e){return e.articleId===t.articleId});return(0,a.default)(o,t),(0,r.fromJS)(n)}(e,t.article);case o.DELETE_ARTICLE_AND_NOTEBOOK:return function(e,t,n){var a=e.toJS(),o=a.data,u=o.articles,c=o.notebooks;if(n){var i=c.findIndex(function(e){return e.notebookId===n});c.splice(i,1)}var l=u.findIndex(function(e){return e.articleId===t});return u.splice(l,1),(0,r.fromJS)(a)}(e,t.articleId,t.notebookId);default:return e}}},67:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=E(n(236)),r=E(n(20)),o=E(n(6)),u=E(n(8)),c=E(n(5)),i=E(n(7)),l=E(n(1)),s=n(32),d=n(22),f=n(237),_=n(73),m=n(44),h=n(80),p=n(38);n(745);var v=E(n(127)),g=n(23);function E(e){return e&&e.__esModule?e:{default:e}}var I=function(e){function t(){var e,n,a,u;(0,o.default)(this,t);for(var i=arguments.length,d=Array(i),f=0;f<i;f++)d[f]=arguments[f];return n=a=(0,c.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(d))),a.showSearch=function(){var e=a.props,t=e.focused,n=e.mouseIn,r=e.list,o=e.page,u=e.totalPage,c=e.handleMouseEnter,i=e.handleMouseLeave,d=e.handleSwitchClick,f=r.toJS(),_=[];if(f.length)for(var m=10*(o-1);m<(o<u?10*o:f.length);m++)_.push(l.default.createElement("li",{className:"contentItem",key:f[m]},l.default.createElement(s.Link,{className:"contentItem_link",to:{pathname:"/search",search:"keyword="+(p.ISIE?encodeURIComponent(f[m]):f[m])},target:"_blank"},f[m])));return t||n?l.default.createElement("div",{className:"search_info",onMouseEnter:c,onMouseLeave:i},l.default.createElement("div",{className:"search_wrapper"},l.default.createElement("div",{className:"title"},l.default.createElement("span",{className:"hot"},"热门搜索"),l.default.createElement("a",{className:"switch",onClick:function(){d(o,u,a.spinIcon)}},l.default.createElement("i",{ref:function(e){a.spinIcon=e},className:"iconfont icon-spinner9 spin"}),l.default.createElement("span",null,"换一批"))),l.default.createElement("ul",{className:"content"},_))):null},u=n,(0,c.default)(a,u)}return(0,i.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){this.props.checkLogin()}},{key:"render",value:function(){var e=this.props,t=e.loginStatus,n=e.focused,a=e.list,r=e.handleInputFoucus,o=e.handleInputBlur,u=e.logout,c=e.searchValue,i=e.handleSearchChange,d=e.handleInputKeyDown,_=e.handleSearchClick;return l.default.createElement("header",{className:"header"},l.default.createElement("nav",{className:"nav_container"},l.default.createElement("ul",{className:"nav"},l.default.createElement("li",null,l.default.createElement(s.Link,{className:"logo",to:"/",title:"返回新崔斯特姆"},l.default.createElement("img",{src:v.default,className:"logoPic",alt:"返回新崔斯特姆"}))),l.default.createElement("li",{className:"nav_padding"}),l.default.createElement("li",{className:"nav_middle"},l.default.createElement("div",{className:"nav_search_container"},l.default.createElement("div",{className:"inputWrapper"},l.default.createElement(f.CSSTransition,{in:n,timeout:300,classNames:"slide"},l.default.createElement("input",{placeholder:"搜索",onFocus:function(){r(a)},onBlur:o,value:c,onChange:i,onKeyDown:function(e){d(e,c)}})),l.default.createElement(f.CSSTransition,{in:n,timeout:300,classNames:"fade"},l.default.createElement("a",{className:"search_btn",href:"/search?keyword="+(p.ISIE?encodeURIComponent(c):c),onClick:function(e){_(e,c)},target:"_blank"},l.default.createElement("i",{className:"iconfont icon-fangdajing"})))),this.showSearch(n))),l.default.createElement("li",{className:"nav_right"},t?l.default.createElement("a",{onClick:u,className:"login"},"退出"):l.default.createElement(s.Link,{to:"/login",className:"login"},"登录"),t?null:l.default.createElement(s.Link,{className:"signUp",to:"/sign_up"},"注册"),l.default.createElement(s.Link,{className:"write",to:"/write"},l.default.createElement("i",{className:"iconfont icon-icon-checkin"}),"写文章")))))}}]),t}(l.default.Component);t.default=(0,d.connect)(function(e){return{focused:e.getIn(["header","focused"]),list:e.getIn(["header","list"]),page:e.getIn(["header","page"]),totalPage:e.getIn(["header","totalPage"]),mouseIn:e.getIn(["header","mouseIn"]),searchValue:e.getIn(["header","searchValue"]),loginStatus:e.getIn(["login","loginStatus"])}},function(e){return{handleInputFoucus:function(t){0===t.size&&e(_.actionCreators.getList()),e(_.actionCreators.search_focus_blur_action(_.constants.SEARCH_FOCUS))},handleInputBlur:function(){e(_.actionCreators.search_focus_blur_action(_.constants.SEARCH_BLUR))},handleMouseEnter:function(){e(_.actionCreators.mouseEnter())},handleMouseLeave:function(){e(_.actionCreators.mouseLeave())},handleSwitchClick:function(t,n,r){var o=r.style.transform?r.style.transform.replace(/\D/gi,""):0;o=o?(0,a.default)(o,10):0,r.style.transform="rotate("+(360+o)+"deg)",e(t<n?_.actionCreators.switchPage(t+1):_.actionCreators.switchPage(1))},checkLogin:function(){(0,h.authentication)().then(function(t){var n=t.data;e(n?m.actionCreators.changeLoginStatus(!0):m.actionCreators.changeLoginStatus(!1))}).catch(function(e){console.log(e)})},logout:function(){e(_.actionCreators.logout())},handleSearchChange:function(t){var n=t.target.value;e(_.actionCreators.changeSearchValue(n))},handleInputKeyDown:function(e,t){13===e.keyCode&&""!==t.trim()&&window.open(g.requestURL+"search?keyword="+(p.ISIE?encodeURIComponent(t):t),"_blank")},handleSearchClick:function(e,t){return""!==t.trim()||(e.preventDefault(),!1)}}})(I)},73:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.actionCreators=t.constants=void 0;var a=n(123),r=u(n(55)),o=u(n(124));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.constants=r,t.actionCreators=o,t.reducer=a.reducer},745:function(e,t){},747:function(e,t){},749:function(e,t){},751:function(e,t){},753:function(e,t){},755:function(e,t){},757:function(e,t){},759:function(e,t){},79:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.actionCreators=t.reducer=void 0;var a=n(662),r=u(n(189)),o=u(n(241));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.reducer=a.reducer,t.actionCreators=r,t.constants=o},80:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authentication=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(33)),r=n(23),o=n(38);t.authentication=function(){return a.default.get(r.requestURL+"user/authentication"+(o.ISIE?"?token="+Date.now():""))}},95:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GET_DETAIL_DATA="get_detail_data"},96:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ADD_PAGE="add_page",t.UPDATE_ARTICLES_IN_SEARCH="update_articles_in_search",t.CHANGE_KEYWORD="change_keyword",t.CHANGE_SEARCH_RESULT_SHOW="change_search_result_show",t.CHANGE_HAS_MORE="change_has_more"}},[[546,1,0]]]);